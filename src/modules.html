---
layout: base
title: Modules
date: 2021-07-02
---

{% set moduleList = modules.pages %}
{% set currentIndex = 0 %}

{% macro get(module) %}
    <h1 id="module-{{ module }}"
    class="pt-8 pb-2 text-sm font-semibold text-gray-600 uppercase border-b border-gray-500 module dark:text-gray-400">{{ module }}</h1>
    {% include["./modules/", module, ".html"] | join %}
{% endmacro %}

{# <div x-data="{ currentIndex: 0 }" class="flex"> #}
<div x-data="{ currentIndex: 0 }" class="flex">

    {# Sidebar nav #}
    {% include "./_includes/blocks/module-navigation-panel.html" %}

    <div class="grid flex-grow grid-cols-12 bg-gray-700">

        {% for module in moduleList %}
            <div id="module-{{ module.id }}" x-transition.opacity x-show="currentIndex === {{ loop.index0 }}"
                class="col-span-12 p-4 module md:p-8 xl:p-12 2xl:col-span-10">{{get(module.id)}}
                {# Indicies #}
                {% set itemTotal = moduleList.length %}
                {% set itemIndex = loop.index0 %}
                {% set prevIndex = itemIndex - 1 %}
                {% set nextIndex = itemIndex + 1 %}
                {# Item IDs #}
                {% set currentItem = moduleList[currentIndex] %}
                {% set prevItem = moduleList[prevIndex].id %}
                {% set nextItem = moduleList[nextIndex].id %}
                {% set lastItem = moduleList[lastIndex].id %}

                <nav class="grid grid-cols-2 mt-8">
                    <div class="col-span-1">
                        {% if prevIndex > -1 %}
                            <a class="flex flex-col items-start w-full p-4 transition-colors duration-300 ease-in-out rounded md:p-8 xl:p-16 group hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:bg-opacity-50"
                            @click="currentIndex = {{itemIndex}} - 1" href="#{{ prevItem | safe }}">
                                <span class="flex items-center text-xs font-medium md:text-sm xl:text-md">
                                    <svg class="inline-block w-5 h-5 mr-2 text-gray-600 group-hover:text-blue-500"
                                    fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd"
                                        d="M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z"
                                        clip-rule="evenodd"></path>
                                    </svg>
                                Prev
                            </span>
                                <span x-text="`{{ prevItem }}`"
                                class="mt-1 text-2xl font-semibold capitalize md:text-3xl xl:text-4xl"></span>
                            </a>
                        {% else %}
                        {% endif %}
                    </div>
                    <div class="col-span-1">
                        {% if nextIndex < itemTotal %}
                            <a
                            class="flex flex-col items-end w-full p-4 transition-colors duration-300 ease-in-out rounded md:p-8 xl:p-16 group hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:bg-opacity-50"
                            @click="currentIndex = {{itemIndex}} + 1" href="#{{ nextItem | safe }}">
                                <span class="flex items-center text-xs font-medium md:text-sm xl:text-md">
                                Next
                                <svg class="inline-block w-5 h-5 ml-2 text-gray-600 group-hover:text-blue-500"
                                    fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd"
                                        d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z"
                                        clip-rule="evenodd"></path>
                                    </svg>
                                </span>
                                <span x-text="`{{ nextItem }}`"
                                class="mt-1 text-2xl font-semibold capitalize md:text-3xl xl:text-4xl"></span>
                            </a>
                        {% else %}
                        {% endif %}
                    </div>
                </nav>
            </div>
        {% endfor %}
        <div class="2xl:col-span-2">
            <div id="test-container">
            {{ content | dump }}
            </div>
        </div>
    </div>
</div>