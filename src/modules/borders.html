{% from "components/site.html"
import
padding,
ModuleHeading,
ModuleSectionHeading,
Capsule,
DisplayValue,
BoxSelectionResultDemo %}

{{ ModuleHeading('border') }}

<article
  x-data="Borders( {{ tw.global.borderRadius|dump }} )"
  x-init="$watch('currentWidgetSelection', value => getCurrentWidgetSelection(value))"
  class="{{ padding() }}">

  {{ ModuleSectionHeading('Border radius', 'https://tailwindcss.com/docs/border-radius') }}

  <div class="items-center w-full mt-12 lg:flex-row lg:items-start lg:justify-between lg:space-x-12">
    {{ BoxSelectionResultDemo() }}

    <ul class="grid w-full grid-cols-12 gap-6 lg:w-9/12 lg:gap-8 xl:gap-12 4xl:lg-10/12">
      <template x-for="[id, value] in Object.entries(rawData)" :key="id">
        <li class="col-span-6 sm:col-span-4 md:col-span-3 2xl:col-span-3 4xl:col-span-2">
          <div
            :class="hasCurrentSelection ? `${currentClass}-${id}` : `rounded-${id}`"
            class="relative h-16 bg-gray-200 border-2 border-gray-300 ease" style="padding-top: 100%">
            <div class="absolute text-sm text-center transform -translate-x-1/2 -translate-y-1/2 left-1/2 top-1/2">
              <span x-text="value" class="text-bold"></span>
            </div>
          </div>
          <button
            @click="$clipboard(`${currentClass}-${id}`)" 
            class="relative block w-full h-8 px-2 py-1 mx-auto mt-3 font-mono text-sm text-center transition-colors duration-200 bg-gray-100 border border-blue-200 rounded hover:bg-blue-500 hover:text-white 3xl:w-11/12 group ease" type="button">
            <span x-text="hasCurrentSelection ? `${currentClass}-${id}` : `rounded-${id}`"></span>
            <span x-text="'copy'" class="absolute px-2 py-1 leading-4 text-gray-600 transition-all duration-200 -translate-x-1/2 rounded opacity-0 -top-4 bg-gray-50 left-1/2 group-hover:opacity-100 group-hover:-top-12">Copy</span>
          </button>
        </li>
      </template>
    </ul>
  </div>
</article>

<script>
  function Borders(data) {
    return {
      currentWidgetSelection: null,
      hasCurrentSelection: false,
      sectionPrefix: 'rounded',
      currentInfix: '',
      currentClass: '',
      rawData: data,
      setCurrentClass() {
        this.currentClass = `${this.sectionPrefix}-${this.currentInfix}`
      },
      getCurrentWidgetSelection(selection) {
        this.hasCurrentSelection = true
        this.currentWidgetSelection = selection
        this.setCurrentInfix(selection)
        this.setCurrentClass()
      },
      setCurrentInfix(selection) {
        this.currentInfix = selection
      },
      clearCurrentWidgetSelection() {
        this.hasCurrentSelection = false
        this.currentInfix = ''
        this.setCurrentClass('')
      }
    }
  }
</script>

<article
  x-data=""
  x-init=""
  class="">

  {# {{ ModuleSectionHeading('Border width', 'https://tailwindcss.com/docs/border-width') }} #}

</article>