{% macro Capsule(label) %}
    <button 
        class="mx-auto 3xl:w-11/12 relative group h-8 block w-full mt-3 text-sm px-2 py-1 font-mono text-center bg-gray-900 bg-opacity-40 hover:bg-opacity-100 border border-black rounded {{- offsets -}} transition-colors duration-200 ease hover:text-white active:text-white " 
        type="button" 
        @click="$clipboard({{label|dump}})">
        <span x-text="label" class="absolute px-2 py-2 leading-4 text-gray-100 transition-all duration-300 -translate-x-1/2 bg-black rounded opacity-0 left-1/2 group-hover:opacity-100 -top-12">Copy</span>

    </button>
{% endmacro %}

{% macro DisplayValue(label) %}
    <div class="absolute text-sm text-center transform -translate-x-1/2 -translate-y-1/2 left-1/2 top-1/2">
        <span x-text="{{- label -}}" class="text-bold"></span>
        {# {% if "rem" in label %}
            <span x-text="({{- label | replace('rem', '') * 16 -}}px)" class="block text-xs text-gray-400"></span>
        {% endif %} #}
    </div>
{% endmacro %}

{% macro Button(label, action) %}
    <button
        @click="{{- action -}}"
        type="button"
        class="relative col-span-4 w-24 transition-all duration-300 h-10 px-2 py-1 bg-gray-800 border border-gray-900 rounded-l outline-none bg-opacity-80 bg-gradient-to-b focus:ring-4 focus:ring-green-500 hover:bg-[#285057] group">
        <span class="text-xs font-light leading-8 ">{{- label -}}</span>
        <span class="absolute transition-all duration-700 opacity-0 group-hover:opacity-50 radial-gradient"></span>
    </button>
{% endmacro %}

{% macro BoxSelectionWidget() %}
    <div 
        class="relative w-40 h-40 overflow-hidden text-xs rounded box-selection-widget ease" style="outline: #111827 3px solid">
        <label
            for="BoxSelectionWidget-T" class="absolute top-0 left-0 flex items-center justify-center w-full h-8 p-2 transition-colors duration-200 bg-gray-700 border-black side-top group ease hover:bg-gray-900 hover:bg-opacity-10 hover:cursor-pointer outline-black" style="clip-path: polygon(0 0, 100% 0, 80% 100%, 20% 100%);">
            <span class="">T</span>
            <input
                x-model="currentWidgetSelection"
                class="appearance-none" type="radio" id="BoxSelectionWidget-T" name="BoxSelectionWidget" value="t">
        </label>
        <label
            for="BoxSelectionWidget-R" class="absolute top-0 right-0 flex items-center justify-center w-8 h-full p-2 transition-colors duration-200 bg-gray-700 border-black side-right group ease hover:bg-gray-900 hover:bg-opacity-20 hover:cursor-pointer" style="clip-path: polygon(0 20%, 100% 0, 100% 100%, 0 80%);">
            <span class="">R</span>
            <input
                x-model="currentWidgetSelection"
                class="appearance-none" type="radio" id="BoxSelectionWidget-R" name="BoxSelectionWidget" value="r">
        </label>
        <label
            for="BoxSelectionWidget-B" class="absolute bottom-0 left-0 flex items-center justify-center w-full h-8 p-2 transition-colors duration-200 bg-gray-700 border-black side-bottom group ease hover:bg-gray-900 hover:bg-opacity-10 hover:cursor-pointer"  style="clip-path: polygon(20% 0, 80% 0, 100% 100%, 0 100%);">
            <span class="">B</span>
            <input
                x-model="currentWidgetSelection"
                class="appearance-none" type="radio" id="BoxSelectionWidget-B" name="BoxSelectionWidget" value="b">
        </label>
        <label
            for="BoxSelectionWidget-L" class="absolute top-0 left-0 flex items-center justify-center w-8 h-full p-2 transition-colors duration-200 bg-gray-700 border-black side-left group ease hover:bg-gray-900 hover:bg-opacity-20 hover:cursor-pointer" style="clip-path: polygon(0 0, 100% 20%, 100% 80%, 0 100%);">
            <span class="">L</span>
            <input
                x-model="currentWidgetSelection"
                class="appearance-none" type="radio" id="BoxSelectionWidget-L" name="BoxSelectionWidget" value="l">
        </label>
        <svg class="absolute inset-0 w-40 h-40 text-gray-900 pointer-events-none" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 160 160">
            <path fill="currentColor" fill-rule="evenodd" d="M0 2.121V0h2.121l32 32H32v2.121l-32-32ZM2.121 160H0v-2.121l32-32V128h2.121l-32 32ZM160 157.879V160h-2.121l-32-32H128v-2.121l32 32Zm0-155.758V0h-2.121l-32 32H128v2.121l32-32Z" clip-rule="evenodd"/>
        </svg>
        <div class="absolute z-10 w-24 h-24 -translate-x-1/2 -translate-y-1/2 bg-gray-800 border-gray-900 border-3 top-1/2 left-1/2"></div>
    </div>

{% endmacro %}

{% macro BoxSelectionWidgetSimple() %}
    <div 
        class="relative w-48 h-48 mt-2 text-sm">
        
        <div
            :class="{ 'opacity-100 scale-100': hasCurrentSelection, 'opacity-0 scale-50': !hasCurrentSelection  }" 
            class="absolute w-12 h-12 transition-all duration-300 ease-in-out transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2">
            {{ blurBelow(1, 'blue-700', 'sm') }}
        </div>

        <button
            @click="clearCurrentWidgetSelection()"
            :class="{ 'opacity-100': hasCurrentSelection, 'opacity-0': !hasCurrentSelection }"
            class="absolute z-10 flex items-center justify-center w-12 h-12 -translate-x-1/2 -translate-y-1/2 bg-gray-900 border-2 border-blue-400 rounded-lg top-1/2 left-1/2">
            <svg class="w-6 h-6 text-blue-700" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
            </svg>
            <span class="sr-only">Clear selection</span>
        </button>
        <label
            @click="setCurrentInfix('t')"
            :class="{'border-fp-primary opacity-0 translate-y-full': `${currentInfix}` === 't', 'opacity-100': `${currentInfix}` !== 't'}"
            for="BoxSelectionWidget-T" class="absolute z-10 flex items-center justify-center w-12 h-12 p-2 transition-all duration-100 -translate-x-1/2 bg-gray-800 border-2 border-transparent rounded -top-2 left-1/2 side-top group ease hover:bg-fp-primary-dark hover:cursor-pointer">
            <span class="font-bold text-gray-100 capitalize">t</span>
            <input
                x-model="currentWidgetSelection"
                class="appearance-none" type="radio" id="BoxSelectionWidget-T" name="BoxSelectionWidget" value="t">
        </label>
        <label
            @click="setCurrentInfix('r')"
            :class="{'border-fp-primary': `${currentInfix}` === 'r'}"
            for="BoxSelectionWidget-R" class="absolute z-10 flex items-center justify-center w-12 h-12 p-2 transition-colors duration-100 -translate-y-1/2 bg-gray-800 border-2 border-transparent rounded -right-2 top-1/2 side-right group ease hover:bg-fp-primary-dark hover:cursor-pointer">
            <span class="font-bold text-gray-100 capitalize">r</span>
            <input
                x-model="currentWidgetSelection"
                class="appearance-none" type="radio" id="BoxSelectionWidget-R" name="BoxSelectionWidget" value="r">
        </label>
        <label
            @click="setCurrentInfix('b')"
            :class="{'border-fp-primary': `${currentInfix}` === 'b'}"
            for="BoxSelectionWidget-B" class="absolute z-10 flex items-center justify-center w-12 h-12 p-2 transition-colors duration-100 -translate-x-1/2 bg-gray-800 border-2 border-transparent rounded -bottom-2 left-1/2 side-bottom group ease hover:bg-fp-primary-dark hover:cursor-pointer" >
            <span class="font-bold text-gray-100 capitalize">b</span>
            <input
                x-model="currentWidgetSelection"
                class="appearance-none" type="radio" id="BoxSelectionWidget-B" name="BoxSelectionWidget" value="b">
        </label>
        <label
            @click="setCurrentInfix('l')"
            :class="{'border-fp-primary': `${currentInfix}` === 'l'}"
            for="BoxSelectionWidget-L" class="absolute z-10 flex items-center justify-center w-12 h-12 p-2 transition-colors duration-100 -translate-y-1/2 bg-gray-800 border-2 border-transparent rounded -left-2 top-1/2 side-left group ease hover:bg-fp-primary-dark hover:cursor-pointer">
            <span class="font-bold text-gray-100 capitalize">l</span>
            <input
                x-model="currentWidgetSelection"
                class="appearance-none" type="radio" id="BoxSelectionWidget-L" name="BoxSelectionWidget" value="l">
        </label>
        <div class="absolute w-40 h-40 -translate-x-1/2 -translate-y-1/2 border-2 border-gray-700 border-dashed top-1/2 left-1/2"></div>
        <div
            :class="{ '`border-${currentInfix}-4 border-${currentInfix}-solid`': hasCurrentSelection }"  
            class="absolute w-40 h-40 transition-all duration-100 ease-in-out -translate-x-1/2 -translate-y-1/2 border-0 border-fp-primary top-1/2 left-1/2"></div>
    </div>

{% endmacro %}



{% macro BoxSelectionResultDemo() %}
    <aside class="flex justify-center w-3/12 px-4 py-8 bg-gray-200 rounded-lg shadow-xl">
    {{ BoxSelectionWidgetSimple() }}
    </aside>
{% endmacro %}

{% macro blurBelow(zIndex, color, intensity) %}
    <span class="absolute inset-0 w-full h-full bg-{{ color }} blur-{{ intensity }} z-[ {{- zIndex -1 -}} ]"></span>
{% endmacro %}

{% macro ButtonGroup(config) %}
    {% for item in config.buttons %}
        <button
            @click="{{ item['onClick'] }}"
            x-text="{{ item['label1'] }}"
            type="button">HELLO</button>
    {% endfor %}
{% endmacro %}

{% macro ModuleHeading(label) %}
    <h2 
        id="{{ label }}"
        class="pt-16 text-2xl capitalize module">
        {{- label -}}
    </h2>
{% endmacro %}

{% macro ToolTip(content, hyperlink) %}
    <span class="absolute px-2 py-2 text-xs leading-4 text-gray-100 transition-all duration-300 -translate-x-1/2 bg-gray-900 rounded opacity-0 whitespace-nowrap -top-8 left-1/2 group-hover:opacity-100 group-hover:-top-12">
        {{ content }}
    </span>
{% endmacro %}

{% macro DocumentationLink(documentationURL) %}
    <a class="relative p-3 border-2 border-[#06B6D4] transition-colors duration-200 bg-transparent rounded ease group text-[#06B6D4] hover:bg-[#06B6D4]" href="{{ documentationURL }}">
        <svg class="w-6 h-6 transition-colors duration-200 group-hover:text-white" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"></path>
        </svg>
        {{ ToolTip(documentationURL) }}
    </a>
{% endmacro %}

{% macro ModuleSectionHeading(label, documentationURL) %}
    <div class="relative flex items-end justify-between pb-4 mt-24">
        <h3 class="text-3xl font-bold tracking-tight">{{ label }}</h3>
        {{ DocumentationLink(documentationURL) }}
        <span class="absolute inset-x-0 bottom-0 w-full h-1 bg-gray-900 rounded-full"></span>
    </div>
{% endmacro %}