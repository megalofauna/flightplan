{% set sections = module.sections %}

<nav
    x-data="{ activeSection: {{ sections[0].id|dump }} }"
    class="fixed w-full p-8 ml-auto xl:p-16 top-24 xl:sticky xl:w-full">
    <ul>
        {% for section in sections %}
            {% set currentSection = sections[loop.index0] %}
            <li class="flex flex-wrap justify-between -mt-px jsNavPaneItem" data-section-id="{{- sections[loop.index0].id -}}">
                <a
                    @click="activeSection = {{ sections[loop.index0].id|dump }}, NavPane.hidePane()"
                    href="{{- sections[loop.index0].hash -}}" class="flex items-center flex-grow py-1 text-sm transition rounded cursor-pointer group hover:bg-gray-600 hover:text-white">
                    <div class="flex items-center justify-center w-10 h-full">
                        <svg
                            :class="{ 'opacity-100': {{ sections[loop.index0].id|dump }} === activeSection, 'opacity-20': {{ sections[loop.index0].id|dump }} !== activeSection }" 
                            class="flex-shrink-0 w-5 h-5 text-gray-500 transition group-hover:text-blue-400 group-hover:opacity-100" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20" fill="currentColor">
                            {{ section.icon | safe }}
                        </svg>
                    </div>
                    <span>
                    {{- sections[loop.index0].id|title -}}</span>
                </a>
            </li>
            {% endfor%}
        </ul>
    </nav>
    {# ? NavPane.navPaneItems[{{ loop.index0 }}].classList.add('opacity-100')" #}